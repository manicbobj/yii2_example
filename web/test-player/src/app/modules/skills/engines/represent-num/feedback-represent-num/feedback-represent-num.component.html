<div class="lower-grade-feedback">
  <div class="answer-section">
    <h2 class="feedback-message">
      Sorry, incorrect...
    </h2>
    <div class="answer-header">
      The correct answer is:
    </div>
    <div class="answer-box">
      <div class="tile-multiple-choices visible">
        <div class="tile-cover"></div>
        <div class="grid-layout bottom">
          <div class="selectable-tile float multiple-choice disabled"
               *ngFor="let group of groups;"
               [ngClass]="{'selected': question.validation.valid_response.value == group.num_atoms}">
            <div class="arrangement-group" [ngStyle]="{'width': groupBoxSize + 'px', 'height': groupBoxSize + 'px'}">
              <div [ngStyle]="{'position': 'absolute', 'left': position.x + 'px', 'top': position.y + 'px'}"
                   *ngFor="let position of group.atom_positions">
                <img [src]="group.atom.url"
                     [ngStyle]="{'width': atomSize + 'px', 'height': atomSize + 'px'}">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="next-question">
      <button class="btn btn-success btn-large pull-right" (click)="submit()">
        Try next
      </button>
    </div>
  </div>

  <h2 class="feedback-header">
    Explanation
  </h2>

  <div class="review-box tab-box">
    <div class="tab-box-hd">
      <h4 class="rot-neg-90">review</h4>
    </div>
    <div class="tab-box-bd">
      <div class="">
        <div class="section">
          Which shows {{problem}}?
        </div>

        <div class="section">
          <div class="tile-multiple-choices visible">
            <div class="tile-cover"></div>
            <div class="grid-layout bottom">
              <div class="selectable-tile float multiple-choice disabled"
                   *ngFor="let group of groups;"
                   >
                <div class="arrangement-group" [ngStyle]="{'width': groupBoxSize + 'px', 'height': groupBoxSize + 'px'}">
                  <div [ngStyle]="{'position': 'absolute', 'left': position.x + 'px', 'top': position.y + 'px'}"
                       *ngFor="let position of group.atom_positions">
                    <img [src]="group.atom.url"
                         [ngStyle]="{'width': atomSize + 'px', 'height': atomSize + 'px'}">
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class = "answer-header">
        You answered:
      </div>
      <div class="">
        <div class="tile-multiple-choices visible">
          <div class="tile-cover"></div>
          <div class="grid-layout bottom">
            <div class="selectable-tile float multiple-choice disabled"
                 *ngFor="let group of groups;"
                 [ngClass]="{'selected': question.response.value == group.num_atoms}">
              <div class="arrangement-group" [ngStyle]="{'width': groupBoxSize + 'px', 'height': groupBoxSize + 'px'}">
                <div [ngStyle]="{'position': 'absolute', 'left': position.x + 'px', 'top': position.y + 'px'}"
                     *ngFor="let position of group.atom_positions">
                  <img [src]="group.atom.url"
                       [ngStyle]="{'width': atomSize + 'px', 'height': atomSize + 'px'}">
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="solve-box tab-box">
    <div class="tab-box-hd">
      <h4 class="rot-neg-90">solve</h4>
    </div>
    <div class="tab-box-bd">
      <div class="section">
        This shows {{problem}}. Count.
      </div>

      <div class="section">
        <ng-container *ngFor="let group of groups">
          <div class="arrangement-group" [ngStyle]="{'width': groupBoxSize + 'px', 'height': groupBoxSize + 'px'}"
               *ngIf="group.num_atoms == question.validation.valid_response.value">
            <div [ngStyle]="{'position': 'absolute', 'left': position.x + 'px', 'top': position.y + 'px'}"
                 *ngFor="let position of group.atom_positions; let i = index">
              <img [src]="group.atom.url"
                   [ngStyle]="{'width': atomSize + 'px', 'height': atomSize + 'px'}">
              <div class="guide-counting-badge-container">
                <div class="guide-counting-badge-number">
                  {{i + 1}}
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>